<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <script src="../js/vue.js"></script>
    <!-- <script src="js/vue.min.js"></script> -->
</head>
<body>
    <!-- 
        自定义指令总结：
            指令名：v-big-name，定义回调函数时需要用''包起来 
            this：window
            全局自定义指令：同过滤器，Vue.directive('fbind',{
                // 指令与元素成功绑定时（一上来）
                bind(element,binding){
                    element.value = binding.value
                },
                // 指令所在元素被插入页面时
                inserted(element,binding){
                    element.focus()
                },
                // 指令所在模板被重新解析时
                update(element,binding){
                    element.value = binding.value
                },
            })
    
    -->

    <div id="root">
        <h2>增大十倍的n：<span v-big="n"></span></h2>
        <h2>当前的n：<span v-text="n"></span></h2>
        <h2>fbind的n：<input type="text" v-fbind="n"></h2>
        <button @click="n++">n+1</button>
    </div>

    <script>
        Vue.config.productionTip = false  // 阻止Vue在启动时生成生产提示
        const vm = new Vue({  // 创建Vue实例
            el:'#root',
            data(){
                return{
                    n:1
                }
            },
            directives:{
                // big函数调用时机：1.指令与元素成功绑定时（一上来）；2.指令所在模板被重新解析时
                big(element,binding){
                    element.innerText = binding.value*10
                },
                fbind:{
                    // 指令与元素成功绑定时（一上来）
                    bind(element,binding){
                        element.value = binding.value
                    },
                    // 指令所在元素被插入页面时
                    inserted(element,binding){
                        element.focus()
                    },
                    // 指令所在模板被重新解析时
                    update(element,binding){
                        element.value = binding.value
                    },
                }
            }
        })
        
    </script>
</body>
</html>